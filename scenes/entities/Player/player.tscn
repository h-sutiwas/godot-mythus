[gd_scene load_steps=70 format=3 uid="uid://bptewej7ppw85"]

[ext_resource type="Texture2D" uid="uid://cqn8nhtjl7sab" path="res://assets/images/player/demon_sword/Sword.png" id="1_ucweq"]
[ext_resource type="Script" uid="uid://c16ytkgc6oiqg" path="res://scenes/entities/Player/player.gd" id="1_ykoo8"]
[ext_resource type="Script" uid="uid://dpvhmiicaffrf" path="res://scenes/entities/Player/player_state_machine.gd" id="3_ewbqj"]
[ext_resource type="Script" uid="uid://dav3wv51isa3b" path="res://scenes/entities/Player/state_idle.gd" id="4_i5r0j"]
[ext_resource type="Script" uid="uid://ce5r5xmn8po3q" path="res://scenes/entities/Player/state_walk.gd" id="5_txxmm"]
[ext_resource type="Script" uid="uid://cdy0wjbh8o6la" path="res://scenes/entities/Player/state_attack.gd" id="6_a7m52"]
[ext_resource type="AudioStream" uid="uid://bhvixp1qo4fvs" path="res://assets/audio/player/player_attack.mp3" id="7_o8fb4"]
[ext_resource type="Script" uid="uid://brtj1y3uime77" path="res://scenes/entities/Player/state_stun.gd" id="8_ti5ly"]
[ext_resource type="PackedScene" uid="uid://b75j7evompf4h" path="res://GeneralNodes/HurtBox/HurtBox.tscn" id="8_tihqr"]
[ext_resource type="PackedScene" uid="uid://c4cnuan1h3dmv" path="res://GeneralNodes/HitBox/HitBox.tscn" id="10_n8q02"]

[sub_resource type="AtlasTexture" id="AtlasTexture_ajauq"]
atlas = ExtResource("1_ucweq")
region = Rect2(0, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_u6wcx"]
atlas = ExtResource("1_ucweq")
region = Rect2(128, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_y8n45"]
atlas = ExtResource("1_ucweq")
region = Rect2(256, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6pavb"]
atlas = ExtResource("1_ucweq")
region = Rect2(384, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tawhe"]
atlas = ExtResource("1_ucweq")
region = Rect2(512, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6fufa"]
atlas = ExtResource("1_ucweq")
region = Rect2(640, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dlg81"]
atlas = ExtResource("1_ucweq")
region = Rect2(768, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qyjfe"]
atlas = ExtResource("1_ucweq")
region = Rect2(896, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ykoo8"]
atlas = ExtResource("1_ucweq")
region = Rect2(0, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ewbqj"]
atlas = ExtResource("1_ucweq")
region = Rect2(137, 320, 137, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_i5r0j"]
atlas = ExtResource("1_ucweq")
region = Rect2(320, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_txxmm"]
atlas = ExtResource("1_ucweq")
region = Rect2(448, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_a7m52"]
atlas = ExtResource("1_ucweq")
region = Rect2(576, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_o8fb4"]
atlas = ExtResource("1_ucweq")
region = Rect2(704, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tihqr"]
atlas = ExtResource("1_ucweq")
region = Rect2(832, 320, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_2x42r"]
atlas = ExtResource("1_ucweq")
region = Rect2(0, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_n8q02"]
atlas = ExtResource("1_ucweq")
region = Rect2(128, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ti5ly"]
atlas = ExtResource("1_ucweq")
region = Rect2(256, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_yjoys"]
atlas = ExtResource("1_ucweq")
region = Rect2(384, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rprfm"]
atlas = ExtResource("1_ucweq")
region = Rect2(512, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tdpkt"]
atlas = ExtResource("1_ucweq")
region = Rect2(640, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ehmxp"]
atlas = ExtResource("1_ucweq")
region = Rect2(768, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_10k7e"]
atlas = ExtResource("1_ucweq")
region = Rect2(896, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_m4her"]
atlas = ExtResource("1_ucweq")
region = Rect2(1024, 448, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_te6nc"]
atlas = ExtResource("1_ucweq")
region = Rect2(0, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_066vu"]
atlas = ExtResource("1_ucweq")
region = Rect2(128, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_nrl32"]
atlas = ExtResource("1_ucweq")
region = Rect2(256, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_76slk"]
atlas = ExtResource("1_ucweq")
region = Rect2(384, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_df0to"]
atlas = ExtResource("1_ucweq")
region = Rect2(512, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0q26r"]
atlas = ExtResource("1_ucweq")
region = Rect2(640, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0ix5b"]
atlas = ExtResource("1_ucweq")
region = Rect2(768, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_36qu8"]
atlas = ExtResource("1_ucweq")
region = Rect2(896, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_k3drw"]
atlas = ExtResource("1_ucweq")
region = Rect2(1024, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_br7vg"]
atlas = ExtResource("1_ucweq")
region = Rect2(1152, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_o3s46"]
atlas = ExtResource("1_ucweq")
region = Rect2(1280, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ryi3s"]
atlas = ExtResource("1_ucweq")
region = Rect2(1408, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jngqi"]
atlas = ExtResource("1_ucweq")
region = Rect2(1536, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_8vqhw"]
atlas = ExtResource("1_ucweq")
region = Rect2(1664, 256, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jqa5o"]
atlas = ExtResource("1_ucweq")
region = Rect2(0, 384, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wiqk4"]
atlas = ExtResource("1_ucweq")
region = Rect2(128, 384, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7sor5"]
atlas = ExtResource("1_ucweq")
region = Rect2(0, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_68qrw"]
atlas = ExtResource("1_ucweq")
region = Rect2(128, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6kq62"]
atlas = ExtResource("1_ucweq")
region = Rect2(256, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gdy8k"]
atlas = ExtResource("1_ucweq")
region = Rect2(384, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qchbg"]
atlas = ExtResource("1_ucweq")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_kddj0"]
atlas = ExtResource("1_ucweq")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_q8s1k"]
atlas = ExtResource("1_ucweq")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_mm0a5"]
atlas = ExtResource("1_ucweq")
region = Rect2(384, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_o6wi6"]
atlas = ExtResource("1_ucweq")
region = Rect2(512, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_lgr0w"]
atlas = ExtResource("1_ucweq")
region = Rect2(640, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_g84mt"]
atlas = ExtResource("1_ucweq")
region = Rect2(768, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_oy0jm"]
atlas = ExtResource("1_ucweq")
region = Rect2(0, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_b4115"]
atlas = ExtResource("1_ucweq")
region = Rect2(128, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_grcy2"]
atlas = ExtResource("1_ucweq")
region = Rect2(256, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rewpa"]
atlas = ExtResource("1_ucweq")
region = Rect2(384, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0o8qs"]
atlas = ExtResource("1_ucweq")
region = Rect2(512, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_707yp"]
atlas = ExtResource("1_ucweq")
region = Rect2(640, 192, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_k4wlv"]
atlas = ExtResource("1_ucweq")
region = Rect2(768, 192, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_otaui"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ajauq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u6wcx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y8n45")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6pavb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tawhe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6fufa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dlg81")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qyjfe")
}],
"loop": true,
"name": &"all_form_move",
"speed": 7.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ykoo8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ewbqj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i5r0j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_txxmm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a7m52")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o8fb4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tihqr")
}],
"loop": false,
"name": &"dash_slash",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2x42r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n8q02")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ti5ly")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yjoys")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rprfm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tdpkt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ehmxp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_10k7e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m4her")
}],
"loop": false,
"name": &"die",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_te6nc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_066vu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nrl32")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_76slk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_df0to")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0q26r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0ix5b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_36qu8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k3drw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_br7vg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o3s46")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ryi3s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jngqi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8vqhw")
}],
"loop": false,
"name": &"double_slash",
"speed": 18.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jqa5o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wiqk4")
}],
"loop": false,
"name": &"get_hit",
"speed": 7.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7sor5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_68qrw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6kq62")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gdy8k")
}],
"loop": true,
"name": &"horizontal_move",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qchbg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kddj0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q8s1k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mm0a5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o6wi6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lgr0w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g84mt")
}],
"loop": true,
"name": &"idle",
"speed": 7.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_oy0jm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b4115")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_grcy2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rewpa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0o8qs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_707yp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k4wlv")
}],
"loop": true,
"name": &"slow_move",
"speed": 6.0
}]

[node name="Player" type="CharacterBody2D"]
motion_mode = 1
wall_min_slide_angle = 0.17453292
script = ExtResource("1_ykoo8")
damage = 4

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
polygon = PackedVector2Array(-18, -69, 18, -69, 18, -55, 23, -55, 23, -36, 27, -36, 27, -1, 24, -1, 24, -6, 10, -6, 10, -10, -14, -10, -14, -5, -28, -5, -28, -1, -32, -1, -32, -32, -27, -32, -27, -45, -22, -45, -22, -59, -18, -59)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -74)
scale = Vector2(4.617188, 4.617188)
sprite_frames = SubResource("SpriteFrames_otaui")
animation = &"double_slash"

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("3_ewbqj")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("4_i5r0j")

[node name="Walk" type="Node" parent="StateMachine"]
script = ExtResource("5_txxmm")

[node name="Attack" type="Node" parent="StateMachine"]
script = ExtResource("6_a7m52")
attack_sound = ExtResource("7_o8fb4")

[node name="Stun" type="Node" parent="StateMachine"]
script = ExtResource("8_ti5ly")

[node name="Audio" type="Node2D" parent="."]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Audio"]
max_polyphony = 4

[node name="HitBox" parent="." instance=ExtResource("10_n8q02")]
visible = false
position = Vector2(0, -42)
collision_layer = 2
monitorable = false
damage = 4

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="HitBox"]
position = Vector2(-13, 65)
polygon = PackedVector2Array(-88, -82, -92, -74, -92, -55, -88, -46, -81, -39, -66, -30, -51, -24, -30, -19, -8, -13, 37, -13, 71, -13, 89, -18, 108, -22, 121, -27, 134, -33, 147, -43, 154, -55, 154, -74, 147, -86, 135, -94, 115, -104, 95, -115, 85, -129, 65, -144, 53, -150, 27, -159, 4, -159, -15, -153, -32, -145, -50, -134, -59, -124, -73, -101, -79, -91)

[node name="HurtBox" parent="." instance=ExtResource("8_tihqr")]
visible = false
position = Vector2(0, -35)
collision_mask = 512

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="HurtBox"]
position = Vector2(0, 46)
polygon = PackedVector2Array(-4, -92, -4, -87, -9, -87, -9, -78, -13, -78, -13, -69, -18, -69, -18, -60, -23, -60, -23, -46, -27, -46, -27, -32, -31, -32, -31, -32, -31, -1, -28, -1, -28, -5, -14, -5, -14, -10, 10, -10, 10, -5, 24, -5, 24, -1, 27, -1, 27, -37, 23, -37, 23, -55, 18, -55, 18, -69, 13, -69, 13, -92)
